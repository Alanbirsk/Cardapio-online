<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Aquarius Burguer - Delivery</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600;700&display=swap" rel="stylesheet">
<style>
:root {
  --primary-purple:#4a0072;
  --primary-green:#1b5e20;
  --primary-orange:#f57c00;
  --bg-light:#fafafa;
  --text-dark:#222;
  --highlight:#fbc02d;
  --card-radius:12px;
  --transition:0.3s ease;
}

/* Reset e corpo */
*{box-sizing:border-box}
body{margin:0;font-family:'Segoe UI',sans-serif;background:var(--bg-light);color:var(--text-dark);}

/* Cabeçalho simples */
/* aumenta padding para não deixar o botão colado na borda */
header {
  position:fixed; top:0; left:0; width:100%; height:55px;
  background:var(--primary-purple); color:#fff;
  display:flex; align-items:center; justify-content:space-between;
  padding:0 16px; font-family:'Poppins',sans-serif;
  box-shadow:0 2px 8px rgba(0,0,0,0.2); z-index:1000;
}
header .title { font-weight:700; font-size:1.2rem; }

/* Botão carrinho mais chamativo e com margem (não colar na borda) */
#floating-cart{
  background:var(--primary-orange);
  color:#fff;
  padding:6px 14px;
  border-radius:20px;
  font-weight:600;
  box-shadow:0 3px 8px rgba(0,0,0,0.3);
  cursor:pointer;
  font-size:0.95rem;
  display:flex;
  align-items:center;
  gap:8px;
  transition:all 0.18s ease;
  margin-right:4px; /* espaçamento extra para evitar corte */
}
#floating-cart:hover{ transform:scale(1.03); }
#cart-count{
  background:var(--highlight); color:#000; font-weight:700;
  border-radius:50%; width:20px; height:20px;
  display:flex; align-items:center; justify-content:center;
  font-size:0.8rem;
}
#cart-total-mini{ font-weight:700; font-size:0.95rem; }

/* Main */
main{ max-width:700px; margin:75px auto 20px; padding:10px; }

/* Categorias */
.category{ margin-bottom:15px; border-radius:var(--card-radius); overflow:hidden; box-shadow:0 3px 10px rgba(0,0,0,0.1);}
.category-header{
  background:var(--primary-purple); color:#fff; padding:12px 15px;
  cursor:pointer; font-weight:700; display:flex; justify-content:space-between; align-items:center;
  font-size:1rem; border-radius:var(--card-radius);
}
.category-header span{ font-size:1.1rem; }
.category-items{ display:none; flex-direction:column; background:#fff; transition:all var(--transition); }

/* Cards */
.menu-card{
  display:flex; margin:10px; padding:10px; border-radius:var(--card-radius);
  box-shadow:0 2px 6px rgba(0,0,0,0.1); align-items:center; gap:10px; background:#fff;
  transition:transform .12s ease;
}
.menu-card:hover{ transform:translateY(-3px); }
.menu-card img{ width:80px; height:80px; object-fit:cover; border-radius:10px;}
.menu-info{ flex:1; display:flex; flex-direction:column; justify-content:space-between; }
.menu-info h3{ margin:0; color:var(--primary-purple); font-size:1rem; }
.menu-info p{ margin:5px 0; font-size:0.85rem; color:#555; }
.menu-info .price{ font-weight:bold; color:var(--primary-green); }
.menu-info button{
  padding:8px 10px; border:none; border-radius:10px; background:var(--primary-green);
  color:#fff; cursor:pointer; font-weight:700; transition:all var(--transition);
}
.menu-info button:hover{ background:#145214; }

/* Carrinho */
#cart-container{
  position:fixed; top:0; right:-100%; width:90%; max-width:420px; height:100%;
  background:#fff; box-shadow:-5px 0 20px rgba(0,0,0,0.3);
  transition:right var(--transition); z-index:1002; display:flex; flex-direction:column;
}
#cart-container.open{ right:0; }
#cart-header{ padding:15px; background:var(--primary-purple); color:#fff; font-weight:700;
  display:flex; justify-content:space-between; align-items:center;}
#cart-items{ flex:1; overflow-y:auto; padding:10px; }
.cart-item{ display:flex; flex-direction:column; background:#f5f5f5; margin-bottom:8px; padding:8px; border-radius:var(--card-radius);}
.cart-item-header{ font-weight:600; color:var(--primary-purple);}
.cart-qtd{ display:flex; gap:8px; align-items:center; margin:6px 0;}
.cart-qtd button{ border:none; padding:5px 9px; border-radius:6px; color:#fff; cursor:pointer; font-weight:700;}
.cart-lanche .cart-qtd button{background:var(--primary-purple);}
.cart-bebida .cart-qtd button{background:var(--primary-green);}
.cart-combo .cart-qtd button{background:var(--primary-orange);}
.cart-promo .cart-qtd button{background:var(--highlight); color:#000;}
.cart-observacao input{ width:100%; border-radius:6px; border:1px solid #ccc; padding:6px; font-size:0.9rem; margin-bottom:6px;}
.remove-item{ background:#c62828; color:#fff; border:none; padding:8px; border-radius:8px; cursor:pointer; font-size:0.9rem; margin-top:6px;}
.cart-subtotal,.cart-delivery,.cart-total{ padding:8px; border-radius:8px; font-weight:700; margin:6px 0;}
.cart-subtotal{ background:#e0e0e0; color:#222;}
.cart-delivery{ background:#fff3e0; color:#e65100;}
.cart-total{ background:linear-gradient(90deg,var(--primary-purple),#9c27b0); color:#fff; text-align:right; padding-right:12px;}
#checkout-btn{
  background:linear-gradient(90deg,var(--primary-orange),#ff9800);
  color:#fff; padding:12px; border:none; border-radius:12px; font-weight:700;
  margin:8px 12px; cursor:pointer; font-size:1rem; box-shadow:0 5px 15px rgba(0,0,0,0.2);
  transition:all 0.2s ease;
}
#checkout-btn:hover{ transform:translateY(-3px); box-shadow:0 8px 20px rgba(0,0,0,0.3); }

.cart-form{ display:flex; flex-direction:column; padding:0 12px 18px 12px; }
.cart-form label{ font-weight:600; margin-top:6px; font-size:0.95rem; }
.cart-form input, .cart-form select{ padding:8px; border-radius:8px; border:1px solid #ccc; margin-bottom:8px; font-size:0.95rem; }

/* Mobile */
@media(max-width:600px){
  .menu-card img{ width:90px; height:90px; }
  #cart-container{ width:100%; border-radius:0; }
  #cart-header{ font-size:1.05rem; padding:14px; }
  main{ margin-top:66px; padding:8px; }
  .menu-info button{ padding:10px 12px; border-radius:8px; }
}
</style>
</head>
<body>

<header>
  <div class="title">🍔 Aquarius Burguer</div>
  <div id="floating-cart" aria-label="Abrir carrinho">
    🛒 <span id="cart-count">0</span> | <span id="cart-total-mini">R$0,00</span>
  </div>
</header>

<main>
  <!-- Lanches -->
  <div class="category">
    <div class="category-header">Lanches <span>+</span></div>
    <div class="category-items">
      <div class="menu-card">
        <img src="https://images.unsplash.com/photo-1550547660-d9450f859349?w=400&h=400&fit=crop" alt="Clássico">
        <div class="menu-info">
          <h3>Clássico</h3>
          <p>Pão brioche, hambúrguer, alface, tomate, maionese</p>
          <span class="price">R$22,00</span>
          <button class="add-cardapio" data-item="Clássico" data-preco="22" data-categoria="lanche">Adicionar</button>
        </div>
      </div>
      <div class="menu-card">
        <img src="https://images.unsplash.com/photo-1606756793085-59e17fe9d3f0?w=400&h=400&fit=crop" alt="Cheddar Bacon">
        <div class="menu-info">
          <h3>Cheddar Bacon</h3>
          <p>Brioche, hambúrguer, cheddar, bacon crocante</p>
          <span class="price">R$28,00</span>
          <button class="add-cardapio" data-item="Cheddar Bacon" data-preco="28" data-categoria="lanche">Adicionar</button>
        </div>
      </div>
      <div class="menu-card">
        <img src="https://images.unsplash.com/photo-1626912889750-b0d9d3b78f80?w=400&h=400&fit=crop" alt="Combo Clássico (card inside lanches example)">
        <div class="menu-info">
          <h3>Trio Especial</h3>
          <p>Hambúrguer especial + batata + refrigerante</p>
          <span class="price">R$39,00</span>
          <button class="add-cardapio" data-item="Trio Especial" data-preco="39" data-categoria="lanche">Adicionar</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Bebidas -->
  <div class="category">
    <div class="category-header">Bebidas <span>+</span></div>
    <div class="category-items">
      <div class="menu-card">
        <img src="https://images.unsplash.com/photo-1598514982516-22aa60d96cf5?w=400&h=400&fit=crop" alt="Refrigerante">
        <div class="menu-info">
          <h3>Refrigerante 350ml</h3>
          <p>Geladinho</p>
          <span class="price">R$7,00</span>
          <button class="add-cardapio" data-item="Refrigerante 350ml" data-preco="7" data-categoria="bebida">Adicionar</button>
        </div>
      </div>
      <div class="menu-card">
        <img src="https://images.unsplash.com/photo-1622484212383-0f3c3e4ab83a?w=400&h=400&fit=crop" alt="Suco">
        <div class="menu-info">
          <h3>Suco Natural 300ml</h3>
          <p>Laranja ou maracujá</p>
          <span class="price">R$9,00</span>
          <button class="add-cardapio" data-item="Suco Natural 300ml" data-preco="9" data-categoria="bebida">Adicionar</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Combos -->
  <div class="category">
    <div class="category-header">Combos <span>+</span></div>
    <div class="category-items">
      <div class="menu-card">
        <img src="https://images.unsplash.com/photo-1626912889750-b0d9d3b78f80?w=400&h=400&fit=crop" alt="Combo Clássico">
        <div class="menu-info">
          <h3>Combo Clássico</h3>
          <p>Lanche Clássico + Refrigerante</p>
          <span class="price">R$28,00</span>
          <button class="add-cardapio" data-item="Combo Clássico" data-preco="28" data-categoria="combo">Adicionar</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Promoções -->
  <div class="category">
    <div class="category-header">Promoções <span>+</span></div>
    <div class="category-items">
      <div class="menu-card">
        <img src="https://images.unsplash.com/photo-1598514982516-22aa60d96cf5?w=400&h=400&fit=crop" alt="Promo">
        <div class="menu-info">
          <h3>Promo Burger</h3>
          <p>2 Lanches + 2 Bebidas</p>
          <span class="price">R$50,00</span>
          <button class="add-cardapio" data-item="Promo Burger" data-preco="50" data-categoria="promo">Adicionar</button>
        </div>
      </div>
    </div>
  </div>
</main>

<!-- Carrinho -->
<div id="cart-container" aria-hidden="true">
  <div id="cart-header">
    Carrinho <span id="close-cart" style="cursor:pointer;">✖</span>
  </div>
  <div id="cart-items"></div>
  <div class="cart-subtotal">Subtotal: R$0,00</div>
  <div class="cart-delivery">Taxa: R$0,00</div>
  <div class="cart-total">Total: R$0,00</div>
  <div class="cart-form">
    <label for="nome">Nome:</label>
    <input type="text" id="nome" placeholder="Seu nome">
    <label for="endereco">Endereço:</label>
    <input type="text" id="endereco" placeholder="Rua, nº, Bairro">
    <label for="retirada">Retirada:</label>
    <select id="retirada">
      <option value="entrega">Entrega</option>
      <option value="balcao">Balcão</option>
    </select>
    <label for="pagamento">Pagamento:</label>
    <select id="pagamento">
      <option value="dinheiro">Dinheiro</option>
      <option value="pix">PIX</option>
      <option value="cartao">Cartão</option>
    </select>
    <button id="checkout-btn">📲 Pedir Agora</button>
  </div>
</div>

<script>
// Acordeão categorias (preserva comportamento original)
document.querySelectorAll('.category-header').forEach(header=>{
  header.addEventListener('click',()=>{
    const items=header.nextElementSibling;
    items.style.display=(items.style.display==='flex')?'none':'flex';
    header.querySelector('span').textContent=(items.style.display==='flex')?'-':'+';
  });
});

// Carrinho com todas as funcionalidades originais + melhorias visuais
let cart=[];
const cartContainer=document.getElementById('cart-container');
const cartCount=document.getElementById('cart-count');
const cartItemsContainer=document.getElementById('cart-items');
const subtotalEl=document.querySelector('.cart-subtotal');
const deliveryEl=document.querySelector('.cart-delivery');
const totalEl=document.querySelector('.cart-total');
const totalMini=document.getElementById('cart-total-mini');
const floatingCart=document.getElementById('floating-cart');

// abrir carrinho ao clicar (mantém comportamento original: abrir ao clicar)
floatingCart.addEventListener('click',()=>{ cartContainer.classList.add('open'); cartContainer.setAttribute('aria-hidden','false'); });

// fechar
document.getElementById('close-cart').addEventListener('click',()=>{ cartContainer.classList.remove('open'); cartContainer.setAttribute('aria-hidden','true'); });

// adicionar itens
document.querySelectorAll('.add-cardapio').forEach(btn=>{
  btn.addEventListener('click',()=>{
    const item={nome:btn.dataset.item,preco:parseFloat(btn.dataset.preco),categoria:btn.dataset.categoria,qtd:1,obs:''};
    // se já existe, incrementa qtd (mantendo UX razoável)
    const existingIndex = cart.findIndex(i=>i.nome===item.nome && i.categoria===item.categoria);
    if(existingIndex>-1){
      cart[existingIndex].qtd += 1;
    } else {
      cart.push(item);
    }
    updateCart();
  });
});

function updateCart(){
  cartItemsContainer.innerHTML='';
  cart.forEach((item,i)=>{
    const div=document.createElement('div');
    div.className=`cart-item ${item.categoria}`;
    // escape simples para evitar problemas com aspas ao inserir no value
    const safeObs = (item.obs||'').replace(/"/g,'&quot;').replace(/'/g,"&#39;");
    div.innerHTML=`
      <div class="cart-item-header">${item.nome} - R$${item.preco.toFixed(2)}</div>
      <div class="cart-qtd">
        <button onclick="changeQty(${i},-1)">-</button>
        <span style="font-weight:700; padding:0 6px;">${item.qtd}</span>
        <button onclick="changeQty(${i},1)">+</button>
      </div>
      <div class="cart-observacao">
        <input placeholder="Observações" value="${safeObs}" onchange="updateObs(${i},this.value)">
      </div>
      <button class="remove-item" onclick="removeItem(${i})">Remover</button>
    `;
    cartItemsContainer.appendChild(div);
  });
  // atualiza badge com soma das quantidades (melhoria: mostra total de itens)
  const totalQty = cart.reduce((s,it)=>s+it.qtd,0);
  cartCount.textContent = totalQty;
  calculateTotal();
}

function changeQty(index,delta){
  cart[index].qtd += delta;
  if(cart[index].qtd < 1) cart[index].qtd = 1;
  updateCart();
}
function removeItem(index){ cart.splice(index,1); updateCart(); }
function updateObs(index,val){ cart[index].obs = val; }

function calculateTotal(){
  let subtotal = 0;
  cart.forEach(i=>subtotal += i.preco * i.qtd);
  let delivery = 0;
  const tipo = document.getElementById('retirada').value;
  if(tipo === 'entrega' && subtotal > 0 && subtotal < 35) delivery = 10;
  subtotalEl.textContent = `Subtotal: R$${subtotal.toFixed(2)}`;
  deliveryEl.textContent = `Taxa: R$${(tipo==='balcao'?0:delivery).toFixed(2)}`;
  const total = (subtotal + (tipo==='balcao'?0:delivery));
  totalEl.textContent = `Total: R$${total.toFixed(2)}`;

  // mostra valor total também no botão flutuante (melhoria solicitada)
  totalMini.textContent = `R$${total.toFixed(2)}`;

  // acessibilidade: atualizar aria-label no botão flutuante
  floatingCart.setAttribute('aria-label', `Abrir carrinho. ${cart.length} tipos, ${cart.reduce((s,i)=>s+i.qtd,0)} itens. Total R$${total.toFixed(2)}`);
}
document.getElementById('retirada').addEventListener('change',calculateTotal);

// checkout via WhatsApp (preserva seu fluxo original)
document.getElementById('checkout-btn').addEventListener('click',()=>{
  if(cart.length === 0){ alert('Carrinho vazio!'); return; }
  const nome = document.getElementById('nome').value.trim();
  const endereco = document.getElementById('endereco').value.trim();
  const retirada = document.getElementById('retirada').value;
  const pagamento = document.getElementById('pagamento').value;
  if(!nome){ alert('Informe seu nome'); return; }
  if(retirada === 'entrega' && !endereco){ alert('Informe o endereço'); return; }

  let msg = `🍔 Pedido Aquarius Burguer:\n\n`;
  cart.forEach(i => {
    msg += `• ${i.nome} x${i.qtd} (${i.obs || 'sem obs'}) - R$${(i.preco*i.qtd).toFixed(2)}\n`;
  });

  msg += `\n${subtotalEl.textContent}\n${deliveryEl.textContent}\n${totalEl.textContent}\n\n`;
  msg += `👤 Nome: ${nome}\n📍 Endereço: ${endereco}\n📦 Retirada: ${retirada}\n💳 Pagamento: ${pagamento}`;

  // abre WhatsApp (preserva número original)
  window.open(`https://wa.me/5546999241298?text=${encodeURIComponent(msg)}`, '_blank');
});
</script>

</body>
</html>
